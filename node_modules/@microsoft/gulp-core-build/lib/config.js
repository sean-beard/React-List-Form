"use strict";
// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.
// See LICENSE in the project root for license information.
Object.defineProperty(exports, "__esModule", { value: true });
var State_1 = require("./State");
var ENVIRONMENT_VARIABLE_PREFIX = 'GCB_';
var _defaultValues = {};
function setConfigDefaults(defaultValues) {
    _defaultValues = defaultValues;
}
exports.setConfigDefaults = setConfigDefaults;
function getConfigValue(name, defaultValue) {
    // Try to get config value from environment variable.
    var envVariable = ENVIRONMENT_VARIABLE_PREFIX + name.toUpperCase();
    var envValue = process.env[envVariable];
    var argsValue = State_1.args[name.toLowerCase()];
    return _firstDefinedValue(argsValue, envValue, defaultValue, _defaultValues[name]);
}
exports.getConfigValue = getConfigValue;
function getFlagValue(name, defaultValue) {
    var configValue = getConfigValue(name, defaultValue);
    return configValue === 'true' || configValue === true;
}
exports.getFlagValue = getFlagValue;
/* tslint:disable:no-any */
function _firstDefinedValue() {
    var values = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        values[_i] = arguments[_i];
    }
    /* tslint:enable:no-any */
    for (var _a = 0, values_1 = values; _a < values_1.length; _a++) {
        var value = values_1[_a];
        if (value !== undefined) {
            return value;
        }
    }
    return undefined;
}

//# sourceMappingURL=config.js.map
