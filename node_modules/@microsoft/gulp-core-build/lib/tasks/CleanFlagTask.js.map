{"version":3,"sources":["tasks/CleanFlagTask.ts"],"names":[],"mappings":";AAAA,4FAA4F;AAC5F,2DAA2D;;;;;;;;;;;;AAE3D,yCAAwC;AAIxC;;;GAGG;AACH;IAAmC,iCAAS;IAI1C;QAAA,YACE,iBAAO,SACR;QALD,yDAAyD;QACjD,aAAO,GAAY,KAAK,CAAC;;IAIjC,CAAC;IAEM,iCAAS,GAAhB,UAAiB,WAAyB;QAC1C,6CAA6C;QAC7C,IAAM,SAAS,GAAY,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;eAC9E,IAAI,CAAC,OAAO,KAAK,KAAK,CAAC;QAC5B,MAAM,CAAC,SAAS,CAAC;IACnB,CAAC;IAEQ,mCAAW,GAAlB,UACE,IAAiB,EACjB,gBAAkD;QAFpD,iBAQC;QAJC,iBAAM,WAAW,YAAC,IAAI,EAAE;YACtB,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,gBAAgB,EAAE,CAAC;QACrB,CAAC,CAAC,CAAC;IACL,CAAC;IACH,oBAAC;AAAD,CAxBA,AAwBC,CAxBkC,qBAAS,GAwB3C;AAxBY,sCAAa","file":"tasks/CleanFlagTask.js","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\r\n// See LICENSE in the project root for license information.\r\n\r\nimport { CleanTask } from './CleanTask';\r\nimport * as Gulp from 'gulp';\r\nimport { IBuildConfig } from './../IBuildConfig';\r\n\r\n/**\r\n * This task runs at the start of any command if the --clean or -c parameter is specified\r\n * @public\r\n */\r\nexport class CleanFlagTask extends CleanTask {\r\n  /** Instantiates a new CleanTask with the name 'clean' */\r\n  private _hasRun: boolean = false;\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  public isEnabled(buildConfig: IBuildConfig): boolean {\r\n  // tslint:disable-next-line:no-string-literal\r\n  const shouldRun: boolean = (!!buildConfig.args['clean'] || !!buildConfig.args['c'])\r\n    && this._hasRun === false;\r\n  return shouldRun;\r\n}\r\n\r\n  public executeTask(\r\n    gulp: typeof Gulp,\r\n    completeCallback: (error?: string | Error) => void\r\n  ): void {\r\n    super.executeTask(gulp, () => {\r\n      this._hasRun = true;\r\n      completeCallback();\r\n    });\r\n  }\r\n}"],"sourceRoot":"..\\..\\src"}