// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.
// See LICENSE in the project root for license information.
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
// <reference types='mocha' />
var chai_1 = require("chai");
var path = require("path");
var RushConfiguration_1 = require("../RushConfiguration");
var EventHooks_1 = require("../EventHooks");
describe('EventHooks', function () {
    it('loads a post build hook from rush.json', function () {
        var rushFilename = path.resolve(__dirname, 'repo', 'rush.json');
        var rushConfiguration = RushConfiguration_1.default.loadFromConfigurationFile(rushFilename);
        chai_1.assert.deepEqual(rushConfiguration.eventHooks.get(EventHooks_1.Event.postRushBuild), ['do something'], 'Failed to get the correct post rush build hook');
    });
    it('loads empty rush hooks', function () {
        var eventHooks = new EventHooks_1.default({});
        chai_1.assert.equal(eventHooks.get(EventHooks_1.Event.postRushBuild).length, 0);
    });
    it('loads two rush hooks', function () {
        var expectedHooks = [
            'do one',
            'do two'
        ];
        var eventHooks = new EventHooks_1.default({
            postRushBuild: expectedHooks
        });
        var resultHooks = eventHooks.get(EventHooks_1.Event.postRushBuild);
        chai_1.assert.deepEqual(resultHooks, expectedHooks);
    });
});

//# sourceMappingURL=EventHooks.test.js.map
