{"version":3,"file":"language.js","sourceRoot":"../src/","sources":["language.ts"],"names":[],"mappings":";;;IAEA,4DAA4D;IAC5D,IAAI,SAAwB,CAAC;IAE7B;;;;OAIG;IACH;QACE,EAAE,CAAC,CAAC,SAAS,KAAK,SAAS,CAAC,CAAC,CAAC;YAC5B,IAAI,GAAG,GAAG,iBAAW,EAAE,CAAC;YACxB,IAAI,GAAG,GAAG,eAAS,EAAE,CAAC;YAEtB,6CAA6C;YAC7C,EAAE,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;gBAC/B,IAAI,aAAa,GAAG,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;gBAErD,EAAE,CAAC,CAAC,aAAa,KAAK,IAAI,CAAC,CAAC,CAAC;oBAC3B,SAAS,GAAG,aAAa,CAAC;gBAC5B,CAAC;YACH,CAAC;YAED,EAAE,CAAC,CAAC,SAAS,KAAK,SAAS,IAAI,GAAG,CAAC,CAAC,CAAC;gBACnC,SAAS,GAAG,GAAG,CAAC,eAAe,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;YACvD,CAAC;YAED,EAAE,CAAC,CAAC,SAAS,KAAK,SAAS,CAAC,CAAC,CAAC;gBAC5B,WAAW,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAC3B,CAAC;QACH,CAAC;QAED,MAAM,CAAC,SAAS,CAAC;IACnB,CAAC;IAxBD,kCAwBC;IAED;;;;OAIG;IACH,qBAA4B,QAAgB,EAAE,eAAgC;QAAhC,gCAAA,EAAA,uBAAgC;QAC5E,IAAI,GAAG,GAAG,iBAAW,EAAE,CAAC;QAExB,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACR,GAAG,CAAC,eAAe,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;QACrD,CAAC;QAED,IAAI,GAAG,GAAG,eAAS,EAAE,CAAC;QACtB,6CAA6C;QAC7C,EAAE,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC,cAAc,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;YACnD,YAAY,CAAC,OAAO,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;QAC7C,CAAC;QAED,SAAS,GAAG,QAAQ,CAAC;IACvB,CAAC;IAdD,kCAcC","sourcesContent":["import { getDocument, getWindow } from './dom';\r\n\r\n// Default to undefined so that we initialize on first read.\r\nlet _language: string | null;\r\n\r\n/**\r\n * Gets the rtl state of the page (returns true if in rtl.)\r\n *\r\n * @public\r\n */\r\nexport function getLanguage(): string | null {\r\n  if (_language === undefined) {\r\n    let doc = getDocument();\r\n    let win = getWindow();\r\n\r\n    // tslint:disable-next-line:no-string-literal\r\n    if (win && win['localStorage']) {\r\n      let savedLanguage = localStorage.getItem('language');\r\n\r\n      if (savedLanguage !== null) {\r\n        _language = savedLanguage;\r\n      }\r\n    }\r\n\r\n    if (_language === undefined && doc) {\r\n      _language = doc.documentElement.getAttribute('lang');\r\n    }\r\n\r\n    if (_language === undefined) {\r\n      setLanguage('en', false);\r\n    }\r\n  }\r\n\r\n  return _language;\r\n}\r\n\r\n/**\r\n * Sets the rtl state of the page (by adjusting the dir attribute of the html element.)\r\n *\r\n * @public\r\n */\r\nexport function setLanguage(language: string, avoidPersisting: boolean = false): void {\r\n  let doc = getDocument();\r\n\r\n  if (doc) {\r\n    doc.documentElement.setAttribute('lang', language);\r\n  }\r\n\r\n  let win = getWindow();\r\n  // tslint:disable-next-line:no-string-literal\r\n  if (win && win['localStorage'] && !avoidPersisting) {\r\n    localStorage.setItem('language', language);\r\n  }\r\n\r\n  _language = language;\r\n}\r\n"]}