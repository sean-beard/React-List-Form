{"version":3,"file":"theme.js","sourceRoot":"../src/","sources":["styles/theme.ts"],"names":[],"mappings":"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","sourcesContent":["import { GlobalSettings } from '@uifabric/utilities/lib/GlobalSettings';\r\nimport {\r\n  IPalette,\r\n  ISemanticColors,\r\n  ITheme,\r\n  IPartialTheme\r\n} from '../interfaces/index';\r\nimport {\r\n  DefaultFontStyles\r\n} from './DefaultFontStyles';\r\nimport {\r\n  DefaultPalette\r\n} from './DefaultPalette';\r\nimport { loadTheme as legacyLoadTheme } from '@microsoft/load-themed-styles';\r\n\r\nlet _theme: ITheme = {\r\n  palette: DefaultPalette,\r\n  semanticColors: _makeSemanticColorsFromPalette(DefaultPalette, false),\r\n  fonts: DefaultFontStyles,\r\n  isInverted: false\r\n};\r\n\r\nexport const ThemeSettingName = 'theme';\r\n\r\nif (!GlobalSettings.getValue(ThemeSettingName)) {\r\n  let win = typeof window !== 'undefined' ? window : undefined;\r\n\r\n  // tslint:disable:no-string-literal no-any\r\n  if (win && (win as any)['FabricConfig'] && (win as any)['FabricConfig'].theme) {\r\n    _theme = createTheme((win as any)['FabricConfig'].theme);\r\n  }\r\n  // tslint:enable:no-string-literal no-any\r\n\r\n  // Set the default theme.\r\n  GlobalSettings.setValue(ThemeSettingName, _theme);\r\n}\r\n\r\n/**\r\n * Gets the theme object.\r\n */\r\nexport function getTheme(): ITheme {\r\n  return _theme;\r\n}\r\n\r\n/**\r\n * Applies the theme, while filling in missing slots.\r\n */\r\nexport function loadTheme(theme: IPartialTheme): ITheme {\r\n  _theme = createTheme(theme);\r\n\r\n  // Invoke the legacy method of theming the page as well.\r\n  legacyLoadTheme({ ..._theme.palette, ..._theme.semanticColors });\r\n\r\n  GlobalSettings.setValue(ThemeSettingName, _theme);\r\n\r\n  return _theme;\r\n}\r\n\r\n/**\r\n * Creates a custom theme definition which can be used with the Customizer.\r\n */\r\nexport function createTheme(theme: IPartialTheme): ITheme {\r\n  let newPalette = { ...DefaultPalette, ...theme.palette };\r\n\r\n  if (!theme.palette || !theme.palette.accent) {\r\n    newPalette.accent = newPalette.themePrimary;\r\n  }\r\n\r\n  return {\r\n    palette: newPalette,\r\n    fonts: {\r\n      ...DefaultFontStyles,\r\n      ...theme.fonts\r\n    },\r\n    semanticColors: { ..._makeSemanticColorsFromPalette(newPalette, !!theme.isInverted), ...theme.semanticColors },\r\n    isInverted: !!theme.isInverted\r\n  } as ITheme;\r\n}\r\n\r\n// Generates all the semantic slot colors based on the Fabric palette.\r\n// We'll use these as fallbacks for semantic slots that the passed in theme did not define.\r\nfunction _makeSemanticColorsFromPalette(p: IPalette, isInverted: boolean): ISemanticColors {\r\n  return {\r\n    bodyBackground: p.white,\r\n    bodyText: p.neutralPrimary,\r\n    bodySubtext: p.neutralSecondary,\r\n    bodyDivider: p.neutralLight,\r\n\r\n    disabledBackground: p.neutralLighter,\r\n    disabledText: p.neutralTertiaryAlt,\r\n    disabledSubtext: p.neutralQuaternary,\r\n\r\n    focusBorder: p.black,\r\n\r\n    errorBackground: !isInverted ? 'rgba(232, 17, 35, .2)' : 'rgba(232, 17, 35, .5)',\r\n    errorText: !isInverted ? p.redDark : '#ff5f5f',\r\n    blockingBackground: !isInverted ? 'rgba(234, 67, 0, .2)' : 'rgba(234, 67, 0, .5)',\r\n    warningBackground: !isInverted ? 'rgba(255, 185, 0, .2)' : 'rgba(255, 251, 0, .6)',\r\n\r\n    inputBorder: p.neutralTertiary,\r\n    inputBorderHovered: p.neutralPrimary,\r\n    inputBackgroundChecked: p.themePrimary,\r\n    inputBackgroundCheckedHovered: p.themeDarkAlt,\r\n    inputForegroundChecked: p.white,\r\n    inputFocusBorderAlt: p.themePrimary,\r\n\r\n    menuItemBackgroundHovered: p.neutralLighter,\r\n    menuItemBackgroundChecked: p.neutralQuaternaryAlt,\r\n    menuIcon: p.themePrimary,\r\n    menuHeader: p.themePrimary,\r\n\r\n    listBackground: p.white,\r\n    listTextColor: p.neutralPrimary,\r\n    listItemBackgroundHovered: p.neutralLighter,\r\n    listItemBackgroundChecked: p.neutralLight,\r\n    listItemBackgroundCheckedHovered: p.neutralQuaternaryAlt\r\n  };\r\n}\r\n"]}