{"version":3,"sources":["visualtest/RunVisualTest.ts"],"names":[],"mappings":"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","file":"visualtest/RunVisualTest.js","sourcesContent":["\r\nimport { Casper, IPhantomCSS } from './PhantomCssInterface';\r\nimport { IRunVisualTest } from './IRunVisualTest';\r\ndeclare var phantomcss: IPhantomCSS;\r\ndeclare var casper: Casper;\r\n\r\nexport function defaultScreenshot(params: IRunVisualTest) {\r\n  let imageSelector = params.imageSelector || params.selector;\r\n\r\n  casper.then(() => {\r\n    phantomcss.screenshot(imageSelector, params.fileName + '_default');\r\n  });\r\n  if (params.childParams) {\r\n    params.childParams.commands.forEach(commandList => {\r\n      commandList(params.childParams!);\r\n    });\r\n  }\r\n}\r\n\r\nexport function mouseMoveScreenshot(params: IRunVisualTest) {\r\n  let imageSelector = params.imageSelector || params.selector;\r\n\r\n  casper.then(function () {\r\n    this.mouse.move(params.selector);\r\n    phantomcss.screenshot(imageSelector, params.fileName + '_mouseMove');\r\n  });\r\n  if (params.childParams) {\r\n    params.childParams.commands.forEach(commandList => {\r\n      commandList(params.childParams!);\r\n    });\r\n  }\r\n}\r\n\r\nexport function mouseDownScreenshot(params: IRunVisualTest) {\r\n  let imageSelector = params.imageSelector || params.selector;\r\n\r\n  casper.then(function () {\r\n    this.mouse.down(params.selector);\r\n    phantomcss.screenshot(imageSelector, params.fileName + '_mouseDown');\r\n  });\r\n  if (params.childParams) {\r\n    params.childParams.commands.forEach(commandList => {\r\n      commandList(params.childParams!);\r\n    });\r\n  }\r\n}\r\nexport function mouseClickScreenshot(params: IRunVisualTest) {\r\n  let imageSelector = params.imageSelector || params.selector;\r\n\r\n  casper.then(function () {\r\n    this.click(params.selector);\r\n    phantomcss.screenshot(imageSelector, params.fileName + '_mouseClick');\r\n  });\r\n  casper.then(function () {\r\n    this.click(params.selector);\r\n  });\r\n  if (params.childParams) {\r\n    params.childParams.commands.forEach(commandList => {\r\n      commandList(params.childParams!);\r\n    });\r\n  }\r\n}\r\n\r\nexport function mouseSingleClickScreenshot(params: IRunVisualTest) {\r\n  params.imageSelector = params.imageSelector || params.selector;\r\n\r\n  casper.then(function () {\r\n    this.click(params.selector);\r\n  });\r\n  if (params.childParams) {\r\n    params.childParams.commands.forEach(commandList => {\r\n      commandList(params.childParams!);\r\n    });\r\n  }\r\n}\r\nexport function testRunner(componentIds: IRunVisualTest[]) {\r\n  componentIds.forEach(element => {\r\n    element.commands.forEach(command => {\r\n      command(element);\r\n    });\r\n  });\r\n}"],"sourceRoot":"..\\..\\src"}