{"version":3,"sources":["components/Toggle/Toggle.tsx"],"names":[],"mappings":"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","file":"components/Toggle/Toggle.js","sourcesContent":["import * as React from 'react';\r\nimport {\r\n  BaseComponent,\r\n  autobind,\r\n  getId,\r\n  inputProperties,\r\n  getNativeProps,\r\n  memoize\r\n} from '../../Utilities';\r\nimport {\r\n  IToggleProps,\r\n  IToggle,\r\n  IToggleStyles\r\n} from './Toggle.Props';\r\nimport { Label } from '../../Label';\r\nimport {\r\n  customizable\r\n} from '../../Utilities';\r\nimport {\r\n  mergeStyles\r\n} from '../../Styling';\r\n\r\nimport { getStyles } from './Toggle.styles';\r\n\r\nexport interface IToggleState {\r\n  isChecked: boolean;\r\n}\r\n\r\ninterface IToggleClassNames {\r\n  root: string;\r\n  label: string;\r\n  container: string;\r\n  pill: string;\r\n  thumb: string;\r\n  text: string;\r\n}\r\n\r\n@customizable(['theme'])\r\nexport class Toggle extends BaseComponent<IToggleProps, IToggleState> implements IToggle {\r\n\r\n  private _id: string;\r\n  private _toggleButton: HTMLButtonElement;\r\n\r\n  constructor(props: IToggleProps) {\r\n    super();\r\n\r\n    this._warnMutuallyExclusive({\r\n      checked: 'defaultChecked'\r\n    });\r\n\r\n    this.state = {\r\n      isChecked: !!(props.checked || props.defaultChecked)\r\n    };\r\n    this._id = props.id || getId('Toggle');\r\n  }\r\n\r\n  /**\r\n   * Gets the current checked state of the toggle.\r\n   */\r\n  public get checked(): boolean {\r\n    return this.state.isChecked;\r\n  }\r\n\r\n  public componentWillReceiveProps(newProps: IToggleProps) {\r\n    if (newProps.checked !== undefined) {\r\n      this.setState({\r\n        isChecked: !!newProps.checked // convert null to false\r\n      });\r\n    }\r\n  }\r\n\r\n  public render() {\r\n    // This control is using an input element for more universal accessibility support.\r\n    // Previously a button and the aria-pressed attribute were used. This technique works well with Narrator + Edge and NVDA + FireFox.\r\n    // However, JAWS and VoiceOver did not announce anything when the toggle was checked or unchecked.\r\n    // In the future when more screenreaders support aria-pressed it would be a good idea to change this control back to using it as it is\r\n    // more semantically correct.\r\n\r\n    let {\r\n      className,\r\n      theme,\r\n      styles: customStyles,\r\n      disabled,\r\n      label,\r\n      offAriaLabel,\r\n      offText,\r\n      onAriaLabel,\r\n      onText\r\n      } = this.props;\r\n    let { isChecked } = this.state;\r\n    let stateText = isChecked ? onText : offText;\r\n    const ariaLabel = isChecked ? onAriaLabel : offAriaLabel;\r\n    const toggleNativeProps = getNativeProps(this.props, inputProperties, ['defaultChecked']);\r\n    const classNames = this._getClassNames(\r\n      getStyles(theme!, customStyles),\r\n      className!,\r\n      disabled!,\r\n      isChecked\r\n    );\r\n\r\n    return (\r\n      <div className={ classNames.root }>\r\n\r\n        { label && (\r\n          <Label htmlFor={ this._id } className={ classNames.label }>{ label }</Label>\r\n        ) }\r\n\r\n        <div className={ classNames.container } >\r\n          <button\r\n            { ...toggleNativeProps }\r\n            type='button'\r\n            className={ classNames.pill }\r\n            ref={ (c): HTMLButtonElement => this._toggleButton = c! }\r\n            aria-disabled={ disabled }\r\n            aria-pressed={ isChecked }\r\n            aria-label={ ariaLabel }\r\n            id={ this._id }\r\n            onChange={ () => { /* no-op */ } }\r\n            disabled={ disabled }\r\n            data-is-focusable={ true }\r\n            onClick={ this._onClick }\r\n          >\r\n            <div className={ classNames.thumb } />\r\n          </button>\r\n          { stateText && (\r\n            <Label className={ classNames.text }>{ stateText }</Label>\r\n          ) }\r\n        </div>\r\n      </div >\r\n    );\r\n  }\r\n\r\n  public focus() {\r\n    if (this._toggleButton) {\r\n      this._toggleButton.focus();\r\n    }\r\n  }\r\n\r\n  @autobind\r\n  private _onClick(ev: React.MouseEvent<HTMLElement>) {\r\n    let { checked, onChanged, onClick } = this.props;\r\n    let { isChecked } = this.state;\r\n\r\n    // Only update the state if the user hasn't provided it.\r\n    if (checked === undefined) {\r\n      this.setState({\r\n        isChecked: !isChecked\r\n      });\r\n    }\r\n\r\n    if (onChanged) {\r\n      onChanged(!isChecked);\r\n    }\r\n\r\n    if (onClick) {\r\n      onClick(ev);\r\n    }\r\n  }\r\n\r\n  @memoize\r\n  private _getClassNames(\r\n    styles: IToggleStyles,\r\n    className: string,\r\n    disabled: boolean,\r\n    isChecked: boolean\r\n    ): IToggleClassNames {\r\n\r\n    return {\r\n      root: mergeStyles(\r\n        'ms-Toggle',\r\n        isChecked && 'is-checked',\r\n        !disabled && 'is-enabled',\r\n        disabled && 'is-disabled',\r\n        className,\r\n        styles.root\r\n      ) as string,\r\n\r\n      label: mergeStyles(\r\n        'ms-Toggle-label',\r\n        styles.label\r\n      ) as string,\r\n\r\n      container: mergeStyles(\r\n        'ms-Toggle-innerContainer',\r\n        styles.container\r\n      ) as string,\r\n\r\n      pill: mergeStyles(\r\n        'ms-Toggle-background',\r\n        styles.pill,\r\n        !disabled && [\r\n          !isChecked && {\r\n            ':hover': styles.pillHovered,\r\n            ':hover .ms-Toggle-thumb': styles.thumbHovered\r\n          },\r\n          isChecked && [\r\n            styles.pillChecked,\r\n            {\r\n              ':hover': styles.pillCheckedHovered,\r\n              ':hover .ms-Toggle-thumb': styles.thumbCheckedHovered\r\n            }\r\n          ]\r\n        ],\r\n        disabled && [\r\n          !isChecked && styles.pillDisabled,\r\n          isChecked && styles.pillCheckedDisabled,\r\n        ]\r\n      ) as string,\r\n\r\n      thumb: mergeStyles(\r\n        'ms-Toggle-thumb',\r\n        styles.thumb,\r\n        !disabled && isChecked && styles.thumbChecked,\r\n        disabled && [\r\n          !isChecked && styles.thumbDisabled,\r\n          isChecked && styles.thumbCheckedDisabled\r\n        ]\r\n      ) as string,\r\n\r\n      text: mergeStyles(\r\n        'ms-Toggle-stateText',\r\n        styles.text\r\n      ) as string,\r\n\r\n    };\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"..\\..\\..\\src"}